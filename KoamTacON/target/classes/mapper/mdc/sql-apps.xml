<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.aisolution.koamtacon.mapper.mdc.AppsMapper">

	<select id="getTabgenTableCount" parameterType="HashMap" resultType="int">
	<![CDATA[
		select count(0) as cnt
		  from tabgen
		 where 1=1
		   and tabname = #{TABNAME}
		   and sync_op != 3
		   and sync_idagente = concat('|',#{groupCode},'|')
	]]>
	</select>
	
	<select id="getTabgenRecordCount" parameterType="HashMap" resultType="int">
	<![CDATA[
		select count(0) as cnt
		  from tabgen
		 where 1=1
		   and tabname = #{TABNAME}
		   and reckey = #{key}
		   and sync_op != 3
		   and sync_idagente = concat('|',#{groupCode},'|')
	]]>
	</select>
	
    <select id="getTabgenDef" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , tabdesc
             , idxvalkey
             , descval01, descval02, descval03, descval04, descval05
             , descval06, descval07, descval08, descval09, descval10
             , descval11, descval12, descval13, descval14, descval15
             , descval16, descval17, descval18, descval19, descval20
             , flag1, flag2, flag3, flag4, flag5
             , sync_idagente
             , sync_op
          from tabgendef
         where 1=1
           and tabname = #{tabname}
           and sync_op != 3
    ]]>
    </select>
    
    <select id="_getInventoryCount" parameterType="HashMap" resultType="int">
    <![CDATA[
        select count(0) as cnt
          from tabgen
         where 1=1
           and tabname = 'MA_INVENTORY'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    </select>
    
    <select id="_getInventory" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_INVENTORY'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
	        <choose>
		        <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
			        <choose>
		                <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
		                    <choose>
		                        <when test="concat != null and concat == '0'.toString() ">
		                            <![CDATA[
		                            and (${cbSearch1} like concat('%', #{keyword1}, '%')
		                                or ${cbSearch2} like concat('%', #{keyword2}, '%')
		                                or ${cbSearch3} like concat('%', #{keyword3}, '%')
		                                )
		                            ]]>
		                        </when>
		                        <otherwise>
		                            <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
		                        </otherwise>
		                    </choose>
		                </when>
		                <otherwise>
		                    <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
		                </otherwise>
		            </choose>
		        </when>
		        <otherwise>
		            <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
		        </otherwise>
		    </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey asc
         limit #{itemNoPerPage} offset #{offset}
    ]]>
    </select>
    
    <select id="_getInventoryForExcel" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_INVENTORY'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey asc
    ]]>
    </select>
    
    <select id="getHisInventoryCount" parameterType="HashMap" resultType="int">
    <![CDATA[
        select count(0) as cnt
          from tabgen
         where 1=1
           and tabname = 'HIS_INVENTORY_JOB'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    </select>
    
    <select id="getHisInventory" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'HIS_INVENTORY_JOB'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey desc
         limit #{itemNoPerPage} offset #{offset}
    ]]>
    </select>
    
    <select id="getHisInventoryForExcel" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'HIS_INVENTORY_JOB'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey desc
    ]]>
    </select>
    
    <select id="getStockInCount" parameterType="HashMap" resultType="int">
    <![CDATA[
        select count(0) as cnt
          from tabgen
         where 1=1
           and tabname = 'MA_INVENTORY_IN'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
         order by reckey asc
    ]]>
    </select>
    
    <select id="getStockIn" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_INVENTORY_IN'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
         order by reckey asc
         limit #{itemNoPerPage} offset #{offset}
    ]]>
    </select>
    
    <select id="getStockInForExcel" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_INVENTORY_IN'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
         order by reckey asc
    ]]>
    </select>
    
    <select id="getStockOutCount" parameterType="HashMap" resultType="int">
    <![CDATA[
        select count(0) as cnt
          from tabgen
         where 1=1
           and tabname = 'MA_INVENTORY_OUT'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
         order by reckey asc
    ]]>
    </select>
    
    <select id="getStockOut" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_INVENTORY_OUT'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
         order by reckey asc
         limit #{itemNoPerPage} offset #{offset}
    ]]>
    </select>
    
    <select id="getStockOutForExcel" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_INVENTORY_OUT'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
         order by reckey asc
    ]]>
    </select>
    
    <select id="getStockCheckCount" parameterType="HashMap" resultType="int">
    <![CDATA[
        select count(0) as cnt
          from tabgen
         where 1=1
           and tabname = 'MA_INVENTORY_CHECK'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
         order by reckey asc
    ]]>
    </select>
    
    <select id="getStockCheck" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_INVENTORY_CHECK'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
         order by reckey asc
         limit #{itemNoPerPage} offset #{offset}
    ]]>
    </select>
    
    <select id="getStockCheckForExcel" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_INVENTORY_CHECK'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
         order by reckey asc
    ]]>
    </select>
    
    <select id="getPurchaseCount" parameterType="HashMap" resultType="int">
    <![CDATA[
        select count(0) as cnt
          from tabgen
         where 1=1
           and tabname = 'MA_PURCHASE'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    </select>
    
    <select id="getPurchase" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_PURCHASE'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey desc
         limit #{itemNoPerPage} offset #{offset}
    ]]>
    </select>
    
    <select id="getPurchaseForExcel" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_PURCHASE'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey desc
    ]]>
    </select>
    
    <select id="getRetailCount" parameterType="HashMap" resultType="int">
    <![CDATA[
        select count(0) as cnt
          from tabgen
         where 1=1
           and tabname = 'HIS_RETAIL'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    </select>
    
    <select id="getRetail" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'HIS_RETAIL'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey desc
         limit #{itemNoPerPage} offset #{offset}
    ]]>
    </select>
    
    <select id="getRetailForExcel" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'HIS_RETAIL'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey desc
    ]]>
    </select>
    
    <select id="getTrackingCount" parameterType="HashMap" resultType="int">
    <![CDATA[
        select count(0) as cnt
          from tabgen
         where 1=1
           and tabname = 'MA_JOBS'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    </select>
    
    <select id="getTracking" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14 as feeType, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
             , lName, fName, streetNo, streetName, city
             , state, country, zipcode, phone1, phone2
             , email
             , case ifnull(jobFlag, val03)
                        when 'D0' then 'Initial state'
                        when 'D1' then 'Loaded'
                        else ifnull(jobFlag,'')
               end as jobFlag
             , ifnull(failFlag, '') as failFlag
          from tabgen a
               left outer join (select reckey as ckey
                                     , val01 as lName, val02 as fName, val03 as streetNo
                                     , val04 as streetName, val05 as city, val06 as state
                                     , val07 as country, val08 as zipcode, val09 as phone1
                                     , val10 as phone2, val11 as email
                                  from tabgen
                                 where 1=1
                                   and tabname = 'MA_CUSTOMERS_D'
                                   and sync_op != 3
                                   and sync_idagente = concat('|',#{groupCode},'|')
               ) b on ckey = val15
               left outer join (select reckey as jfKey, val01 as jobFlag
                                  from tabgen
                                 where 1=1
                                   and tabname = 'DELIVERY_JOB_FLAG'
                                   and sync_op != 3
               ) c on jfKey = val03
               left outer join (select reckey as ffKey, val01 as failFlag
                                  from tabgen
                                 where 1=1
                                   and tabname = 'DELIVERY_FAIL_FLAG'
                                   and sync_op != 3
               ) d on ffKey = val04
         where 1=1
           and tabname = 'MA_JOBS'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey desc
         limit #{itemNoPerPage} offset #{offset}
    ]]>
    </select>
    
    <select id="getTrackingForExcel" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , '' as val01, val02
             , case ifnull(jobFlag, val03)
                        when 'D0' then 'Initial state'
                        when 'D1' then 'Loaded'
                        else ifnull(jobFlag,'')
               end as val03
             , ifnull(failFlag, '') as val04
             , val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, feeType as val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
             , lName, fName, streetNo, streetName, city
             , state, country, zipcode, phone1, phone2
             , email
          from tabgen a
               left outer join (select reckey as ckey
                                     , val01 as lName, val02 as fName, val03 as streetNo
                                     , val04 as streetName, val05 as city, val06 as state
                                     , val07 as country, val08 as zipcode, val09 as phone1
                                     , val10 as phone2, val11 as email
                                  from tabgen
                                 where 1=1
                                   and tabname = 'MA_CUSTOMERS_D'
                                   and sync_op != 3
                                   and sync_idagente = concat('|',#{groupCode},'|')
               ) b on ckey = val15
               left outer join (select reckey as jfKey, val01 as jobFlag
                                  from tabgen
                                 where 1=1
                                   and tabname = 'DELIVERY_JOB_FLAG'
                                   and sync_op != 3
               ) c on jfKey = val03
               left outer join (select reckey as ffKey, val01 as failFlag
                                  from tabgen
                                 where 1=1
                                   and tabname = 'DELIVERY_FAIL_FLAG'
                                   and sync_op != 3
               ) d on ffKey = val04
         where 1=1
           and tabname = 'MA_JOBS'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey desc
    ]]>
    </select>
    
    <select id="getCustomerDCount" parameterType="HashMap" resultType="int">
    <![CDATA[
        select count(0) as cnt
          from tabgen
         where 1=1
           and tabname = 'MA_CUSTOMERS_D'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    </select>
    
    <select id="getCustomerD" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_CUSTOMERS_D'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey asc
         limit #{itemNoPerPage} offset #{offset}
    ]]>
    </select>
    
    <select id="getCustomerDForExcel" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_CUSTOMERS_D'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey asc
    ]]>
    </select>
    
    <select id="getRentalCount" parameterType="HashMap" resultType="int">
    <![CDATA[
        select count(0) as cnt
          from tabgen
         where 1=1
           and tabname = 'MA_RENTAL'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    </select>
    
    <select id="getRental" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
             , lName, fName, streetNo, streetName, city
             , state, country, zipcode, phone1, phone2
             , email
          from tabgen
               left outer join (select reckey as ckey
                                     , val01 as lName, val02 as fName, val03 as streetNo
                                     , val04 as streetName, val05 as city, val06 as state
                                     , val07 as country, val08 as zipcode, val09 as phone1
                                     , val10 as phone2, val11 as email
                                  from tabgen
                                 where 1=1
                                   and tabname = 'MA_CUSTOMERS'
                                   and sync_op != 3
                                   and sync_idagente = concat('|',#{groupCode},'|')
               ) b on ckey = val14
         where 1=1
           and tabname = 'MA_RENTAL'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey desc
         limit #{itemNoPerPage} offset #{offset}
    ]]>
    </select>
    
    <select id="getRentalForExcel" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
             , lName, fName, streetNo, streetName, city
             , state, country, zipcode, phone1, phone2
             , email
          from tabgen
               left outer join (select reckey as ckey
                                     , val01 as lName, val02 as fName, val03 as streetNo
                                     , val04 as streetName, val05 as city, val06 as state
                                     , val07 as country, val08 as zipcode, val09 as phone1
                                     , val10 as phone2, val11 as email
                                  from tabgen
                                 where 1=1
                                   and tabname = 'MA_CUSTOMERS'
                                   and sync_op != 3
                                   and sync_idagente = concat('|',#{groupCode},'|')
               ) b on ckey = val14
         where 1=1
           and tabname = 'MA_RENTAL'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey desc
    ]]>
    </select>
    
    <select id="getCustomerCount" parameterType="HashMap" resultType="int">
    <![CDATA[
        select count(0) as cnt
          from tabgen
         where 1=1
           and tabname = 'MA_CUSTOMERS'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    </select>
    
    <select id="getCustomer" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_CUSTOMERS'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey asc
         limit #{itemNoPerPage} offset #{offset}
    ]]>
    </select>
    
    <select id="getCustomerForExcel" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_CUSTOMERS'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey asc
    ]]>
    </select>
    
    <select id="getTicketValidationCount" parameterType="HashMap" resultType="int">
    <![CDATA[
        select count(0) as cnt
          from tabgen
         where 1=1
           and tabname = 'MA_TICKET_VALIDATION'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    </select>
    
    <select id="getTicketValidation" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_TICKET_VALIDATION'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by val03 desc
         limit #{itemNoPerPage} offset #{offset}
    ]]>
    </select>
    
    <select id="getTicketValidationForExcel" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_TICKET_VALIDATION'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by val03 desc
    ]]>
    </select>
    
    <select id="getSoldTicketsCount" parameterType="HashMap" resultType="int">
    <![CDATA[
        select count(0) as cnt
          from tabgen
         where 1=1
           and tabname = 'MA_TV_SOLD_TICKETS'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    </select>
    
    <select id="getSoldTickets" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_TV_SOLD_TICKETS'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by val04 desc, val03 asc
         limit #{itemNoPerPage} offset #{offset}
    ]]>
    </select>
    
    <select id="getSoldTicketsForExcel" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_TV_SOLD_TICKETS'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by val04 desc, val03 asc
    ]]>
    </select>
    
    <select id="getProjectsCount" parameterType="HashMap" resultType="int">
    <![CDATA[
        select count(0) as cnt
          from tabgen
         where 1=1
           and tabname = 'MA_TV_PROJECTS'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    </select>
    
    <select id="getProjects" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_TV_PROJECTS'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey asc
         limit #{itemNoPerPage} offset #{offset}
    ]]>
    </select>
    
    <select id="getProjectsForExcel" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_TV_PROJECTS'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey asc
    ]]>
    </select>
    
    <select id="getLocationsCount" parameterType="HashMap" resultType="int">
    <![CDATA[
        select count(0) as cnt
          from tabgen
         where 1=1
           and tabname = 'MA_TV_LOCATIONS'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    </select>
    
    <select id="getLocations" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_TV_LOCATIONS'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey asc
         limit #{itemNoPerPage} offset #{offset}
    ]]>
    </select>
    
    <select id="getLocationsForExcel" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_TV_LOCATIONS'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey asc
    ]]>
    </select>
    
    <select id="getTimeCount" parameterType="HashMap" resultType="int">
    <![CDATA[
        select count(0) as cnt
          from tabgen
         where 1=1
           and tabname = 'MA_TV_TIME'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    </select>
    
    <select id="getTime" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_TV_TIME'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey asc
         limit #{itemNoPerPage} offset #{offset}
    ]]>
    </select>
    
    <select id="getTimeForExcel" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_TV_TIME'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey asc
    ]]>
    </select>
    
    <select id="getFieldServiceCount" parameterType="HashMap" resultType="int">
    <![CDATA[
        select count(0) as cnt
          from tabgen
         where 1=1
           and tabname = 'MA_FIELD_SERVICE'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    </select>
    
    <select id="getFieldService" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_FIELD_SERVICE'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by val01 desc, val02 desc
         limit #{itemNoPerPage} offset #{offset}
    ]]>
    </select>
    
    <select id="getFieldServiceForExcel" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_FIELD_SERVICE'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by val01 desc, val02 desc
    ]]>
    </select>
    
    <select id="getProductCount" parameterType="HashMap" resultType="int">
    <![CDATA[
        select count(0) as cnt
          from tabgen
         where 1=1
           and tabname = 'MA_PRODUCT'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    </select>
    
    <select id="getProduct" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_PRODUCT'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey asc
         limit #{itemNoPerPage} offset #{offset}
    ]]>
    </select>
    
    <select id="getProductForExcel" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_PRODUCT'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey asc
    ]]>
    </select>
    
    <select id="getAddressCount" parameterType="HashMap" resultType="int">
    <![CDATA[
        select count(0) as cnt
          from tabgen
         where 1=1
           and tabname = 'MA_FS_ADDRESS'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    </select>
    
    <select id="getAddress" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_FS_ADDRESS'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey asc
         limit #{itemNoPerPage} offset #{offset}
    ]]>
    </select>
    
    <select id="getAddressForExcel" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_FS_ADDRESS'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey asc
    ]]>
    </select>
    
    <select id="getEventDateList" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
    	select distinct tg.val04 as event_seq
             , DATE_FORMAT(tg.val04, '%Y-%m-%d') as event_date
		  from tabgen tg
		       join tabgen prjTg on prjTg.tabname = 'MA_TV_PROJECTS'
                                and prjTg.sync_idagente = tg.sync_idagente
                                and prjTg.reckey = tg.val01
                                and date_format(curdate(), '%Y%m%d') between prjTg.val04 and prjTg.val05
               join tabgen locTg on locTg.tabname = 'MA_TV_LOCATIONS'
                                and locTg.sync_idagente = tg.sync_idagente
                                and locTg.reckey = tg.val02
                                and IFNULL(locTg.val08, 'N') = 'Y'
               join tabgen timTg on timTg.tabname = 'MA_TV_TIME'
                                and timTg.sync_idagente = tg.sync_idagente
                                and timTg.reckey = tg.val03
                                and IFNULL(timTg.val02, 'N') = 'Y'
		 where 1=1
		   and tg.tabname = 'MA_TV_SOLD_TICKETS'
		   and tg.sync_idagente = concat('|',#{groupCode},'|')
		   and tg.val04 >= date_format(curdate(), '%Y%m%d')
		 order by tg.val04 asc
    ]]>
    </select>
    
    <select id="getProjectSeqList" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
		select concat(event_date, '||', project_seq) as code_key
		     , event_date as event_seq
		     , project_seq
		     , project_name
		  from (select distinct tg.val04 as event_date
		             , tg.val01 as project_seq
		             , prjTg.val01 as project_name
		          from tabgen tg
		               join tabgen prjTg on prjTg.tabname = 'MA_TV_PROJECTS'
		                                and prjTg.sync_idagente = tg.sync_idagente
		                                and prjTg.reckey = tg.val01
		                                and date_format(curdate(), '%Y%m%d') between prjTg.val04 and prjTg.val05
		               join tabgen locTg on locTg.tabname = 'MA_TV_LOCATIONS'
		                                and locTg.sync_idagente = tg.sync_idagente
		                                and locTg.reckey = tg.val02
		                                and IFNULL(locTg.val08, 'N') = 'Y'
		               join tabgen timTg on timTg.tabname = 'MA_TV_TIME'
		                                and timTg.sync_idagente = tg.sync_idagente
		                                and timTg.reckey = tg.val03
		                                and IFNULL(timTg.val02, 'N') = 'Y'
		         where 1=1
		           and tg.tabname = 'MA_TV_SOLD_TICKETS'
		           and tg.sync_idagente = concat('|',#{groupCode},'|')
		           and tg.val04 >= date_format(curdate(), '%Y%m%d')
		       ) baseTg
		 order by event_date asc, project_seq asc
    ]]>
    </select>
    
    <select id="getLocationSeqList" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
		select concat(event_date, '||', project_seq, '||', location_seq) as code_key
		     , event_date as event_seq
		     , project_seq
		     , location_seq
		     , location_name
		  from (select distinct tg.val04 as event_date
		             , tg.val01 as project_seq
		             , tg.val02 as location_seq
		             , locTg.val01 as location_name
		          from tabgen tg
		               join tabgen prjTg on prjTg.tabname = 'MA_TV_PROJECTS'
		                                and prjTg.sync_idagente = tg.sync_idagente
		                                and prjTg.reckey = tg.val01
		                                and date_format(curdate(), '%Y%m%d') between prjTg.val04 and prjTg.val05
		               join tabgen locTg on locTg.tabname = 'MA_TV_LOCATIONS'
		                                and locTg.sync_idagente = tg.sync_idagente
		                                and locTg.reckey = tg.val02
		                                and IFNULL(locTg.val08, 'N') = 'Y'
		               join tabgen timTg on timTg.tabname = 'MA_TV_TIME'
		                                and timTg.sync_idagente = tg.sync_idagente
		                                and timTg.reckey = tg.val03
		                                and IFNULL(timTg.val02, 'N') = 'Y'
		         where 1=1
		           and tg.tabname = 'MA_TV_SOLD_TICKETS'
		           and tg.sync_idagente = concat('|',#{groupCode},'|')
		           and tg.val04 >= date_format(curdate(), '%Y%m%d')
		       ) base
		 order by event_date asc, project_seq asc, location_seq asc
    ]]>
    </select>
    
    <select id="getTimeSeqList" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
		select concat(event_date, '||', project_seq, '||', location_seq, '||', time_seq) as code_key
		     , event_date as event_seq
		     , project_seq
		     , location_seq
		     , time_seq
		     , start_time
		  from (select distinct tg.val04 as event_date
		             , tg.val01 as project_seq
		             , tg.val02 as location_seq
		             , tg.val03 as time_seq
		             , timTg.val01 as start_time
		          from tabgen tg
		               join tabgen prjTg on prjTg.tabname = 'MA_TV_PROJECTS'
		                                and prjTg.sync_idagente = tg.sync_idagente
		                                and prjTg.reckey = tg.val01
		                                and date_format(curdate(), '%Y%m%d') between prjTg.val04 and prjTg.val05
		               join tabgen locTg on locTg.tabname = 'MA_TV_LOCATIONS'
		                                and locTg.sync_idagente = tg.sync_idagente
		                                and locTg.reckey = tg.val02
		                                and IFNULL(locTg.val08, 'N') = 'Y'
		               join tabgen timTg on timTg.tabname = 'MA_TV_TIME'
		                                and timTg.sync_idagente = tg.sync_idagente
		                                and timTg.reckey = tg.val03
		                                and IFNULL(timTg.val02, 'N') = 'Y'
		         where 1=1
		           and tg.tabname = 'MA_TV_SOLD_TICKETS'
		           and tg.sync_idagente = concat('|',#{groupCode},'|')
		           and tg.val04 >= date_format(curdate(), '%Y%m%d')
		       ) base
		 order by event_date asc, project_seq asc, location_seq asc, time_seq asc
    ]]>
    </select>
    
    <select id="getTodayEventDateList" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
    	select distinct tg.val04 as event_seq
             , DATE_FORMAT(tg.val04, '%Y-%m-%d') as event_date
		  from tabgen tg
		       join tabgen prjTg on prjTg.tabname = 'MA_TV_PROJECTS'
                                and prjTg.sync_idagente = tg.sync_idagente
                                and prjTg.reckey = tg.val01
                                and date_format(curdate(), '%Y%m%d') between prjTg.val04 and prjTg.val05
               join tabgen locTg on locTg.tabname = 'MA_TV_LOCATIONS'
                                and locTg.sync_idagente = tg.sync_idagente
                                and locTg.reckey = tg.val02
                                and IFNULL(locTg.val08, 'N') = 'Y'
               join tabgen timTg on timTg.tabname = 'MA_TV_TIME'
                                and timTg.sync_idagente = tg.sync_idagente
                                and timTg.reckey = tg.val03
                                and IFNULL(timTg.val02, 'N') = 'Y'
		 where 1=1
		   and tg.tabname = 'MA_TV_SOLD_TICKETS'
		   and tg.sync_idagente = concat('|',#{groupCode},'|')
		   and tg.val04 = date_format(curdate(), '%Y%m%d')
		 order by tg.val04 asc
    ]]>
    </select>
    
    <select id="getTodayProjectSeqList" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
		select concat(event_date, '||', project_seq) as code_key
		     , event_date as event_seq
		     , project_seq
		     , project_name
		  from (select distinct tg.val04 as event_date
		             , tg.val01 as project_seq
		             , prjTg.val01 as project_name
		          from tabgen tg
		               join tabgen prjTg on prjTg.tabname = 'MA_TV_PROJECTS'
		                                and prjTg.sync_idagente = tg.sync_idagente
		                                and prjTg.reckey = tg.val01
		                                and date_format(curdate(), '%Y%m%d') between prjTg.val04 and prjTg.val05
		               join tabgen locTg on locTg.tabname = 'MA_TV_LOCATIONS'
		                                and locTg.sync_idagente = tg.sync_idagente
		                                and locTg.reckey = tg.val02
		                                and IFNULL(locTg.val08, 'N') = 'Y'
		               join tabgen timTg on timTg.tabname = 'MA_TV_TIME'
		                                and timTg.sync_idagente = tg.sync_idagente
		                                and timTg.reckey = tg.val03
		                                and IFNULL(timTg.val02, 'N') = 'Y'
		         where 1=1
		           and tg.tabname = 'MA_TV_SOLD_TICKETS'
		           and tg.sync_idagente = concat('|',#{groupCode},'|')
		           and tg.val04 = date_format(curdate(), '%Y%m%d')
		       ) baseTg
		 order by event_date asc, project_seq asc
    ]]>
    </select>
    
    <select id="getTodayLocationSeqList" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
		select concat(event_date, '||', project_seq, '||', location_seq) as code_key
		     , event_date as event_seq
		     , project_seq
		     , location_seq
		     , location_name
		  from (select distinct tg.val04 as event_date
		             , tg.val01 as project_seq
		             , tg.val02 as location_seq
		             , locTg.val01 as location_name
		          from tabgen tg
		               join tabgen prjTg on prjTg.tabname = 'MA_TV_PROJECTS'
		                                and prjTg.sync_idagente = tg.sync_idagente
		                                and prjTg.reckey = tg.val01
		                                and date_format(curdate(), '%Y%m%d') between prjTg.val04 and prjTg.val05
		               join tabgen locTg on locTg.tabname = 'MA_TV_LOCATIONS'
		                                and locTg.sync_idagente = tg.sync_idagente
		                                and locTg.reckey = tg.val02
		                                and IFNULL(locTg.val08, 'N') = 'Y'
		               join tabgen timTg on timTg.tabname = 'MA_TV_TIME'
		                                and timTg.sync_idagente = tg.sync_idagente
		                                and timTg.reckey = tg.val03
		                                and IFNULL(timTg.val02, 'N') = 'Y'
		         where 1=1
		           and tg.tabname = 'MA_TV_SOLD_TICKETS'
		           and tg.sync_idagente = concat('|',#{groupCode},'|')
		           and tg.val04 = date_format(curdate(), '%Y%m%d')
		       ) base
		 order by event_date asc, project_seq asc, location_seq asc
    ]]>
    </select>
    
    <select id="getTodayTimeSeqList" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
		select concat(event_date, '||', project_seq, '||', location_seq, '||', time_seq) as code_key
		     , event_date as event_seq
		     , project_seq
		     , location_seq
		     , time_seq
		     , start_time
		  from (select distinct tg.val04 as event_date
		             , tg.val01 as project_seq
		             , tg.val02 as location_seq
		             , tg.val03 as time_seq
		             , timTg.val01 as start_time
		          from tabgen tg
		               join tabgen prjTg on prjTg.tabname = 'MA_TV_PROJECTS'
		                                and prjTg.sync_idagente = tg.sync_idagente
		                                and prjTg.reckey = tg.val01
		                                and date_format(curdate(), '%Y%m%d') between prjTg.val04 and prjTg.val05
		               join tabgen locTg on locTg.tabname = 'MA_TV_LOCATIONS'
		                                and locTg.sync_idagente = tg.sync_idagente
		                                and locTg.reckey = tg.val02
		                                and IFNULL(locTg.val08, 'N') = 'Y'
		               join tabgen timTg on timTg.tabname = 'MA_TV_TIME'
		                                and timTg.sync_idagente = tg.sync_idagente
		                                and timTg.reckey = tg.val03
		                                and IFNULL(timTg.val02, 'N') = 'Y'
		         where 1=1
		           and tg.tabname = 'MA_TV_SOLD_TICKETS'
		           and tg.sync_idagente = concat('|',#{groupCode},'|')
		           and tg.val04 = date_format(curdate(), '%Y%m%d')
		       ) base
		 order by event_date asc, project_seq asc, location_seq asc, time_seq asc
    ]]>
    </select>
    
    <select id="getInventoryCount" parameterType="HashMap" resultType="int">
    <![CDATA[
        select count(0) as cnt
          from tabgen tg
               left outer join tabgens1 segList on segList.rectype = 'LIST'
                                               and segList.sync_op != 3
					                           and segList.tabname = tg.tabname
                                               and segList.reckey = tg.reckey
                                               and segList.sync_idagente = tg.sync_idagente
               left outer join tabgens1 segDetl on segDetl.rectype = 'DETAIL'
                                               and segDetl.sync_op != 3
					                           and segDetl.tabname = tg.tabname
                                               and segDetl.reckey = tg.reckey
                                               and segDetl.sync_idagente = tg.sync_idagente
         where 1=1
           and tg.tabname = 'MA_INVENTORY'
           and tg.sync_op != 3
           and tg.sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    </select>
    
    <select id="getInventory" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tg.tabname
             , tg.reckey
             , tg.val01, tg.val02, tg.val03, tg.val04, tg.val05
             , tg.val06, tg.val07, tg.val08, tg.val09, tg.val10
             , tg.val11, tg.val12, tg.val13, tg.val14, tg.val15
             , tg.val16, tg.val17, tg.val18, tg.val19, tg.val20
             , tg.sortorder
             , tg.sync_idagente
             , segList.sync_idagente
             , segDetl.sync_idagente
             , tg.sync_op
             , segList.val01 as listImg
             , segDetl.val01 as detlImg01
             , segDetl.val02 as detlImg02
             , segDetl.val03 as detlImg03
             , segDetl.val04 as detlImg04
             , segDetl.val05 as detlImg05
             , segDetl.val06 as detlImg06
             , segDetl.val07 as detlImg07
             , segDetl.val08 as detlImg08
             , segDetl.val09 as detlImg09
             , segDetl.val10 as detlImg10
          from tabgen tg
               left outer join tabgens1 segList on segList.rectype = 'LIST'
                                               and segList.sync_op != 3
					                           and segList.tabname = tg.tabname
                                               and segList.reckey = tg.reckey
                                               and segList.sync_idagente = tg.sync_idagente
               left outer join tabgens1 segDetl on segDetl.rectype = 'DETAIL'
                                               and segDetl.sync_op != 3
					                           and segDetl.tabname = tg.tabname
                                               and segDetl.reckey = tg.reckey
                                               and segDetl.sync_idagente = tg.sync_idagente
         where 1=1
           and tg.tabname = 'MA_INVENTORY'
           and tg.sync_op != 3
           and tg.sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
	        <choose>
		        <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
			        <choose>
		                <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
		                    <choose>
		                        <when test="concat != null and concat == '0'.toString() ">
		                            <![CDATA[
		                            and (${cbSearch1} like concat('%', #{keyword1}, '%')
		                                or ${cbSearch2} like concat('%', #{keyword2}, '%')
		                                or ${cbSearch3} like concat('%', #{keyword3}, '%')
		                                )
		                            ]]>
		                        </when>
		                        <otherwise>
		                            <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
		                        </otherwise>
		                    </choose>
		                </when>
		                <otherwise>
		                    <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
		                </otherwise>
		            </choose>
		        </when>
		        <otherwise>
		            <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
		        </otherwise>
		    </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by tg.reckey asc
         limit #{itemNoPerPage} offset #{offset}
    ]]>
    </select>
    
    <select id="getInventoryForExcel" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tg.tabname
             , tg.reckey
             , tg.val01, tg.val02, tg.val03, tg.val04, tg.val05
             , tg.val06, tg.val07, tg.val08, tg.val09, tg.val10
             , tg.val11, tg.val12, tg.val13, tg.val14, tg.val15
             , tg.val16, tg.val17, tg.val18, tg.val19, tg.val20
             , tg.sortorder
             , tg.sync_idagente
             , segList.sync_idagente
             , segDetl.sync_idagente
             , tg.sync_op
             , segList.val01 as listImg
             , segDetl.val01 as detlImg01
             , segDetl.val02 as detlImg02
             , segDetl.val03 as detlImg03
             , segDetl.val04 as detlImg04
             , segDetl.val05 as detlImg05
             , segDetl.val06 as detlImg06
             , segDetl.val07 as detlImg07
             , segDetl.val08 as detlImg08
             , segDetl.val09 as detlImg09
             , segDetl.val10 as detlImg10
          from tabgen tg
               left outer join tabgens1 segList on segList.rectype = 'LIST'
                                               and segList.sync_op != 3
					                           and segList.tabname = tg.tabname
                                               and segList.reckey = tg.reckey
                                               and segList.sync_idagente = tg.sync_idagente
               left outer join tabgens1 segDetl on segDetl.rectype = 'DETAIL'
                                               and segDetl.sync_op != 3
					                           and segDetl.tabname = tg.tabname
                                               and segDetl.reckey = tg.reckey
                                               and segDetl.sync_idagente = tg.sync_idagente
         where 1=1
           and tg.tabname = 'MA_INVENTORY'
           and tg.sync_op != 3
           and tg.sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by tg.reckey asc
    ]]>
    </select>
    
    <select id="getCategoryRentalCount" parameterType="HashMap" resultType="int">
    <![CDATA[
    	select count(0) as cnt
		  from tabgen l1
		       left join (select * from tabgen where 1=1 and tabname = 'CAT2_RENTAL' and sync_op != 3) l2 on l2.val19 = l1.reckey and l2.sync_idagente = l1.sync_idagente
		       left join (select * from tabgen where 1=1 and tabname = 'CAT3_RENTAL' and sync_op != 3) l3 on l3.val19 = l2.reckey and l3.sync_idagente = l1.sync_idagente
		 where 1=1
		   and l1.tabname = 'CAT1_RENTAL'
		   and l1.sync_op != 3
		   and l1.sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    </select>
    
    <select id="getCategoryRental" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
    	select l1.reckey as l1_key, l1.val01 as l1_cat, l1.val02 as l1_info, l1.val17 as l1_self, l1.val18 as l1_level, l1.val19 as l1_parent
		     , l2.reckey as l2_key, l2.val01 as l2_cat, l2.val02 as l2_info, l2.val17 as l2_self, l2.val18 as l2_level, l2.val19 as l2_parent
		     , l3.reckey as l3_key, l3.val01 as l3_cat, l3.val02 as l3_info, l3.val17 as l3_self, l3.val18 as l3_level, l3.val19 as l3_parent
		  from tabgen l1
		       left join (select * from tabgen where 1=1 and tabname = 'CAT2_RENTAL' and sync_op != 3) l2 on l2.val19 = l1.reckey and l2.sync_idagente = l1.sync_idagente
		       left join (select * from tabgen where 1=1 and tabname = 'CAT3_RENTAL' and sync_op != 3) l3 on l3.val19 = l2.reckey and l3.sync_idagente = l1.sync_idagente
		 where 1=1
		   and l1.tabname = 'CAT1_RENTAL'
		   and l1.sync_op != 3
		   and l1.sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    </select>
    
    <select id="getDeliveryCount" parameterType="HashMap" resultType="int">
    <![CDATA[
        select count(0) as cnt
          from tabgen
         where 1=1
           and tabname = 'MA_DELIVERY_MAST'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    </select>
    
    <select id="getDelivery" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_DELIVERY_MAST'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey desc
         limit #{itemNoPerPage} offset #{offset}
    ]]>
    </select>
    
    <select id="getDeliveryForExcel" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_DELIVERY_MAST'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
    ]]>
    <choose>
        <when test="cbSearch1 != null and cbSearch1 != '' and cbSearch1 != '00' and keyword1 != null and keyword1 != ''">
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch2} like concat('%', #{keyword2}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch1} like concat('%', #{keyword1}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch1} like concat('%', #{keyword1}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch1} like concat('%', #{keyword1}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </otherwise>
            </choose>
        </when>
        <otherwise>
            <choose>
                <when test="cbSearch2 != null and cbSearch2 != '' and cbSearch2 != '00' and keyword2 != null and keyword2 != ''">
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00' and keyword3 != null and keyword3 != ''">
                            <choose>
                                <when test="concat != null and concat == '0'.toString() ">
                                    <![CDATA[
                                    and (${cbSearch2} like concat('%', #{keyword2}, '%')
                                        or ${cbSearch3} like concat('%', #{keyword3}, '%')
                                        )
                                    ]]>
                                </when>
                                <otherwise>
                                    <![CDATA[
                                    and ${cbSearch2} like concat('%', #{keyword2}, '%')
                                    and ${cbSearch3} like concat('%', #{keyword3}, '%')
                                    ]]>
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            <![CDATA[
                            and ${cbSearch2} like concat('%', #{keyword2}, '%')
                            ]]>
                        </otherwise>
                    </choose>
                </when>
                <otherwise>
                    <choose>
                        <when test="cbSearch3 != null and cbSearch3 != '' and cbSearch3 != '00'">
                            <![CDATA[
                            and ${cbSearch3} like concat('%', #{keyword3}, '%')
                            ]]>
                        </when>
                    </choose>
                </otherwise>
            </choose>
        </otherwise>
    </choose>
    <![CDATA[
         order by reckey desc
    ]]>
    </select>
    
    <select id="getCustomerInfo" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_CUSTOMERS_D'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
           and reckey = #{customerSeq}
    ]]>
    </select>
    
    <select id="getAddressInfo" parameterType="HashMap" resultType="HashMap">
    <![CDATA[
        select tabname
             , reckey
             , val01, val02, val03, val04, val05
             , val06, val07, val08, val09, val10
             , val11, val12, val13, val14, val15
             , val16, val17, val18, val19, val20
             , sortorder
             , sync_idagente
             , sync_op
          from tabgen
         where 1=1
           and tabname = 'MA_ADDRESS_D'
           and sync_op != 3
           and sync_idagente = concat('|',#{groupCode},'|')
           and reckey = #{addrSeq}
    ]]>
    </select>
</mapper>